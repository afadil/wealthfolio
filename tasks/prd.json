{
  "name": "Activity Form Refactoring",
  "branchName": "feature/activity-form-refactor",
  "userStories": [
    {
      "id": "US-001",
      "title": "Create ActivityTypePicker component with visual grid",
      "description": "As a user, I want to see a visual grid of primary activity types (BUY, SELL, DEPOSIT, WITHDRAWAL, DIVIDEND, TRANSFER) with icons so I can quickly select the type of activity I want to create.",
      "acceptanceCriteria": [
        "Visual grid displays 6 primary activity types as clickable cards",
        "Each card shows an icon and label (BUY/TrendUp, SELL/TrendDown, DEPOSIT/ArrowDownLeft, WITHDRAWAL/ArrowUpRight, DIVIDEND/Coins, TRANSFER/ArrowsLeftRight)",
        "Selected type is visually highlighted",
        "Clicking a type triggers form display for that activity type"
      ],
      "priority": 1,
      "passes": true,
      "dependsOn": [],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-002",
      "title": "Add dropdown menu for secondary activity types",
      "description": "As a user, I want access to less common activity types (SPLIT, FEE, INTEREST, TAX) via a 'More' dropdown so the main interface stays clean.",
      "acceptanceCriteria": [
        "More button/dropdown is visible below the primary grid",
        "Dropdown contains SPLIT, FEE, INTEREST, TAX options",
        "Selecting a dropdown option shows the corresponding form",
        "Selected secondary type is visually indicated"
      ],
      "priority": 2,
      "passes": true,
      "dependsOn": [
        "US-001"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-003",
      "title": "Create shared field components",
      "description": "As a developer, I want reusable field components (AccountSelect, SymbolSearch, DatePicker, AmountInput, QuantityInput, NotesInput) so forms share consistent UI and validation.",
      "acceptanceCriteria": [
        "AccountSelect component with account dropdown",
        "SymbolSearch component with autocomplete",
        "DatePicker component (must not allow future dates)",
        "AmountInput component for currency values",
        "QuantityInput component for share quantities",
        "NotesInput component for optional notes",
        "All components integrate with React Hook Form"
      ],
      "priority": 1,
      "passes": true,
      "dependsOn": [],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-004",
      "title": "Create BuyForm component",
      "description": "As a user, I want to create BUY activities with account, symbol, date, quantity, price, fee, and notes fields so I can log security purchases.",
      "acceptanceCriteria": [
        "Form displays all required fields: Account, Symbol, Date, Quantity, Price, Amount (calculated), Fee, Notes",
        "Zod schema validation triggers on blur",
        "Amount auto-calculates from quantity * price + fee",
        "Warning shown if manual amount differs >1% from calculated",
        "Form submits successfully with valid data",
        "Inline error messages for invalid fields"
      ],
      "priority": 1,
      "passes": true,
      "dependsOn": [
        "US-001",
        "US-003"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-005",
      "title": "Create SellForm component",
      "description": "As a user, I want to create SELL activities with account, symbol, date, quantity, price, fee, and notes fields so I can log security sales.",
      "acceptanceCriteria": [
        "Form displays all required fields: Account, Symbol, Date, Quantity, Price, Amount (calculated), Fee, Notes",
        "Zod schema validation triggers on blur",
        "Amount auto-calculates from quantity * price - fee",
        "Warning shown if selling more than current holdings (allow override)",
        "Form submits successfully with valid data",
        "Inline error messages for invalid fields"
      ],
      "priority": 1,
      "passes": true,
      "dependsOn": [
        "US-001",
        "US-003"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-006",
      "title": "Create DepositForm component",
      "description": "As a user, I want to create DEPOSIT activities with account, date, amount, and notes fields so I can log cash additions to my accounts.",
      "acceptanceCriteria": [
        "Form displays required fields: Account, Date, Amount, Notes",
        "Zod schema validation triggers on blur",
        "Amount must be positive",
        "Form submits successfully with valid data",
        "Inline error messages for invalid fields"
      ],
      "priority": 1,
      "passes": true,
      "dependsOn": [
        "US-001",
        "US-003"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-007",
      "title": "Create WithdrawalForm component",
      "description": "As a user, I want to create WITHDRAWAL activities with account, date, amount, and notes fields so I can log cash removals from my accounts.",
      "acceptanceCriteria": [
        "Form displays required fields: Account, Date, Amount, Notes",
        "Zod schema validation triggers on blur",
        "Amount must be positive",
        "Form submits successfully with valid data",
        "Inline error messages for invalid fields"
      ],
      "priority": 1,
      "passes": true,
      "dependsOn": [
        "US-001",
        "US-003"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-008",
      "title": "Create DividendForm component",
      "description": "As a user, I want to create DIVIDEND activities with account, symbol, date, amount, and notes fields so I can log dividend payments.",
      "acceptanceCriteria": [
        "Form displays required fields: Account, Symbol, Date, Amount, Notes",
        "Zod schema validation triggers on blur",
        "Amount must be positive",
        "Form submits successfully with valid data",
        "Inline error messages for invalid fields"
      ],
      "priority": 1,
      "passes": true,
      "dependsOn": [
        "US-001",
        "US-003"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-009",
      "title": "Create TransferForm component",
      "description": "As a user, I want to create TRANSFER activities with from/to accounts, date, amount, optional symbol/quantity, and notes fields so I can log transfers between accounts.",
      "acceptanceCriteria": [
        "Form displays required fields: From Account, To Account, Date, Amount, Notes",
        "Form displays optional fields: Symbol, Quantity (for security transfers)",
        "Zod schema validation triggers on blur",
        "From account must differ from to account (validation error)",
        "Form submits successfully with valid data",
        "Inline error messages for invalid fields"
      ],
      "priority": 2,
      "passes": true,
      "dependsOn": [
        "US-001",
        "US-003"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-010",
      "title": "Create SplitForm component",
      "description": "As a user, I want to create SPLIT activities with account, symbol, date, split ratio, and notes fields so I can log stock splits.",
      "acceptanceCriteria": [
        "Form displays required fields: Account, Symbol, Date, Split Ratio, Notes",
        "Zod schema validation triggers on blur",
        "Split ratio must be positive",
        "Form submits successfully with valid data",
        "Inline error messages for invalid fields"
      ],
      "priority": 3,
      "passes": true,
      "dependsOn": [
        "US-002",
        "US-003"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-011",
      "title": "Create FeeForm component",
      "description": "As a user, I want to create FEE activities with account, date, amount, and notes fields so I can log account/transaction fees.",
      "acceptanceCriteria": [
        "Form displays required fields: Account, Date, Amount, Notes",
        "Zod schema validation triggers on blur",
        "Amount must be positive",
        "Form submits successfully with valid data",
        "Inline error messages for invalid fields"
      ],
      "priority": 3,
      "passes": true,
      "dependsOn": [
        "US-002",
        "US-003"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-012",
      "title": "Create InterestForm component",
      "description": "As a user, I want to create INTEREST activities with account, date, amount, and notes fields so I can log interest income.",
      "acceptanceCriteria": [
        "Form displays required fields: Account, Date, Amount, Notes",
        "Zod schema validation triggers on blur",
        "Amount must be positive",
        "Form submits successfully with valid data",
        "Inline error messages for invalid fields"
      ],
      "priority": 3,
      "passes": true,
      "dependsOn": [
        "US-002",
        "US-003"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-013",
      "title": "Create TaxForm component",
      "description": "As a user, I want to create TAX activities with account, date, amount, and notes fields so I can log tax payments.",
      "acceptanceCriteria": [
        "Form displays required fields: Account, Date, Amount, Notes",
        "Zod schema validation triggers on blur",
        "Amount must be positive",
        "Form submits successfully with valid data",
        "Inline error messages for invalid fields"
      ],
      "priority": 3,
      "passes": true,
      "dependsOn": [
        "US-002",
        "US-003"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-014",
      "title": "Integrate new forms with activity creation flow",
      "description": "As a user, I want the new activity forms to work with the existing activity creation flow so my activities are saved correctly.",
      "acceptanceCriteria": [
        "ActivityTypePicker replaces old tab-based form",
        "Form data correctly maps to existing API payload structure",
        "Created activities appear in activity list",
        "Activity editing uses new form components",
        "Cancel button returns to previous view"
      ],
      "priority": 1,
      "passes": true,
      "dependsOn": [
        "US-004",
        "US-005",
        "US-006",
        "US-007",
        "US-008",
        "US-009"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-015",
      "title": "Remove old tab-based form components",
      "description": "As a developer, I want to remove the old 5-tab form components after the new forms are integrated so we reduce code duplication and maintenance burden.",
      "acceptanceCriteria": [
        "Old tab-based form components are removed",
        "No references to old form components remain",
        "Build succeeds without errors",
        "All activity types still work correctly"
      ],
      "priority": 2,
      "passes": true,
      "dependsOn": [
        "US-014"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-016",
      "title": "Setup vitest and add unit tests for form components",
      "description": "As a developer, I want unit tests for all form components so we can catch regressions and verify validation logic.",
      "acceptanceCriteria": [
        "Vitest is configured if not already set up",
        "Each form component has render tests",
        "Validation rules are tested (on blur trigger)",
        "Form submission with valid data is tested",
        "Form submission with invalid data shows errors",
        "Test coverage >80% for form logic"
      ],
      "priority": 2,
      "passes": true,
      "dependsOn": [
        "US-014"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-017",
      "title": "Browser testing - happy path scenarios",
      "description": "As a QA tester, I want to verify all happy path scenarios work in the browser so users can successfully create activities.",
      "acceptanceCriteria": [
        "BUY activity creation works with all required fields",
        "SELL activity creation works with all required fields",
        "DEPOSIT activity creation works",
        "WITHDRAWAL activity creation works",
        "DIVIDEND activity creation works",
        "TRANSFER between two accounts works",
        "Secondary activity types (from More dropdown) work"
      ],
      "priority": 2,
      "passes": true,
      "dependsOn": [
        "US-014"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-018",
      "title": "Activities Advanced Options",
      "description": "User can set advanced options for activities. Advanced Section (Collapsible) - **FX Rate**: Let user set a custom currency for this transaction using the currencyInput - **Subtype**: Let the user set contextually for types that have subtypes",
      "acceptanceCriteria": [
        "User can toggle advanced options and change the currency.",
        "Default, currency order are : asset currency, account currency, base currency",
        "User can select and subtype adapted the the asset kind"
      ],
      "priority": 3,
      "passes": true,
      "dependsOn": [
        "US-014"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-019",
      "title": "Keyboard navigation support",
      "description": "As a power user, I want keyboard navigation support so I can quickly navigate and submit forms without a mouse.",
      "acceptanceCriteria": [
        "Tab navigation works through all form fields",
        "Enter submits the form when in last field",
        "Escape cancels/closes the form",
        "Activity type picker is keyboard accessible"
      ],
      "priority": 3,
      "passes": true,
      "dependsOn": [
        "US-014"
      ],
      "completionNotes": "Completed by agent"
    },
    {
      "id": "US-020",
      "title": "Mobile responsive adjustments",
      "description": "As a mobile user, I want the activity type picker and forms to be responsive so I can use them on smaller screens.",
      "acceptanceCriteria": [
        "Type picker grid adjusts for mobile viewport",
        "Form fields stack vertically on mobile",
        "Touch targets are appropriately sized",
        "Forms are usable on tablet and phone screens"
      ],
      "priority": 3,
      "passes": false,
      "dependsOn": [
        "US-019"
      ]
    },
    {
      "id": "US-021",
      "title": "Browser testing - validation error scenarios",
      "description": "As a QA tester, I want to verify validation errors are shown correctly so users get feedback on invalid input.",
      "acceptanceCriteria": [
        "Missing required fields show error on submit",
        "Future date shows validation error",
        "Negative quantity/amount shows validation error",
        "Transfer to same account shows validation error",
        "Selling more than holdings shows warning (allows override)"
      ],
      "priority": 2,
      "passes": false,
      "dependsOn": [
        "US-020"
      ]
    }
  ],
  "metadata": {
    "updatedAt": "2026-01-13T18:38:17.949Z"
  }
}